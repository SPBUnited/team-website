<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Glazov Yuri">
        <link rel="canonical" href="https://spbunited.ru/software/programs/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Используемые программы - SPbUnited</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">SPbUnited</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Основное</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Устройство робота <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../hardware/construction/" class="dropdown-item">Конструкция</a>
</li>
                                    
<li>
    <a href="../../hardware/electronics/" class="dropdown-item">Электроника</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Программное обеспечение <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active">Используемые программы</a>
</li>
                                    
<li>
    <a href="../strategy/" class="dropdown-item">Стратегия игры</a>
</li>
                                    
<li>
    <a href="../algorithms/" class="dropdown-item">Алгоритмы</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../links/" class="nav-link">Ссылки</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../../hardware/electronics/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../strategy/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-light">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#_1" class="nav-link">Общедоступные программы</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#ssl-vision" class="nav-link">SSL-Vision</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#grsim" class="nav-link">GrSim</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#ssl-game-controller" class="nav-link">SSL-Game-Controller</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#_2" class="nav-link">Программы нашей разработки</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#larcmacs" class="nav-link">LARCmaCS</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#strategy-bridge" class="nav-link">Strategy-bridge</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="_1">Общедоступные программы</h1>
<p>Целью лиги <em>RoboCup SSL</em> является распространение разработок, поэтому существует множество программ, созданных сообществом лиги (посмотреть полный список можно <a href="https://ssl.robocup.org/league-software/">здесь</a>). Все программы взаимодействуют в одной локальной сети, передавая пакеты по протоколу <em>Google Protocol Buffers</em> (<a href="https://ssl.robocup.org/league-software/#:~:text=Simulation%20Protocol.-,Standard%20Network%20Parameters,-Protocol">подробнее</a>) Ниже представлены программы, которые мы активно используем и их описание</p>
<h2 id="ssl-vision">SSL-Vision</h2>
<p><a href="https://github.com/RoboCup-SSL/ssl-vision">SSL Vision</a> - программа для получения координат роботов и мяча на поле и передачи их в локальную сеть</p>
<p><img alt="SSL-Vision interface" src="../software/sslvision.png" /></p>
<h2 id="grsim">GrSim</h2>
<p><a href="https://github.com/RoboCup-SSL/grSim">GrSim</a> - симулятор для лиги <em>RoboCup SSL</em>. Заменяет систему для распознавания роботов и самих роботов, что позволяет отлаживать тактику в пределах одного устройства</p>
<p><img alt="GrSim interface" src="../software/grsim.jpg" /></p>
<h2 id="ssl-game-controller">SSL-Game-Controller</h2>
<p><a href="https://github.com/RoboCup-SSL/ssl-game-controller">SSL Game Controller</a> - инструмент для судей на соревнованиях. Он позволяет отправлять командам информацию о состоянии игры (штрафной, пенальти, остановки и т.д.). Роботы команд обязаны реагировать на эти команды</p>
<p><img alt="SSL-Game-Controller" src="../software/gamecontroller.png" /></p>
<h3 id="auto-referee">Auto-Referee</h3>
<p>Для удобства судей и честностью проведения соревнований, существуют автоматические системы судейства. Они не только помогают с определением нарушений человеческому судье, но и выявляют такие нарушения, которые человеческий судья не может зафиксировать (превышение скорости мяча или робота, задержка мяча и прочие). Для комфортной отладки можно полностью поручить судейство автоматическому судье, который также будет переключать состояния игры, вести счёт, следить за временем, выдавать карточки и так далее. 
Активно используются два авто-судьи, от немецких команд <a href="https://github.com/TIGERs-Mannheim/AutoReferee">TIGERs-Mannheim</a> и <a href="https://github.com/robotics-erlangen/autoref">ER-Force</a>. Эти программы также могут работать одновременно</p>
<h3 id="ssl-status-board">SSL Status Board</h3>
<p><a href="https://github.com/RoboCup-SSL/ssl-status-board-client">SSL Status Board</a> - удобная программа для вывода счета, времени, штрафных карточек и прочей информации на экран. Используется на всех соревнованиях для привлечения зрителей. Дополнительно можно настроить названия и эмблемы команд</p>
<p><img alt="SSL-Status-Board interface" src="../software/statusboard.png" /></p>
<p>Также есть интересная программа <a href="https://gitlab.tigers-mannheim.de/open-source/audioref"><em>AudioRef</em></a>, озвучивающая все действия судьи (выдача карточек, остановка роботов, назначение пенальти и т. п.)</p>
<h1 id="_2">Программы нашей разработки</h1>
<h2 id="larcmacs">LARCmaCS</h2>
<p><a href="https://github.com/SPBUnited/LARCmaCS">LARCmaCS</a> - компонент, написанный на <em>С++</em>, который занимается получением пакетов с информацией об игре от организаторов и передаёт её компоненту <em>strategy-bridge</em> для синтеза управления. Далее <em>LARCmaCS</em> осуществляет передачу полученных от <em>strategy-bridge</em> управляющих команд на самих роботов. Таким образом, <em>LARCmaCS</em> отвечает за все низкоуровневое взаимодействие, инкапсулируя его от разработчиков стратегии. Помимо этого, <em>LARCmaCS</em> предоставляет пользователю графический интерфейс пользователя</p>
<p><img alt="LARCmaCS interface" src="../software/larcmacs.png" /></p>
<h2 id="strategy-bridge">Strategy-bridge</h2>
<p>С целью предоставления для разработчиков инструментов для высокоуровневого описания стратегии был реализован компонент, названный <a href="https://github.com/SPBUnited/strategy-bridge">strategy-bridge</a> (далее «бридж»), написанный на языке <em>Python</em>. Основная абстракция бриджа - это процессор, представляющий собой вычислительную единицу, осуществляющую заданные пользователем действия в бесконечном цикле с настраиваемым шагом дискретизации. Например, может быть процессор, который потребляет пакеты <em>SSL-Vision</em> от <em>LARCmaCS</em> и предобрабатывает их или процессор, который отправляет результирующие управляющие сигналы на <em>LARCmaCS</em> с целью отправки их роботам. Каждый процессор может потреблять данные, которые были созданы другими процессорами и делиться своими собственными. Были реализованы шаблоны процессоров, которые позволяют вызывать код написанный на языке <em>MATLAB</em>, часто используемым исследователями в области теории управления. Результирующие управляющие сигналы публикуются в топике <em>ZeroMQ</em> с использованием библиотеки pyzmq для последующего использования модулем связи с роботом</p>
<p>Все данные, которые должны быть поделены между различными процессорами проходят через структуру в памяти, называемую «шиной данных» (<em>data bus</em>). Все хранимые данные разбиваются на топики, где каждый топик представляет собой очередь ограниченного размера. Пользователь может настраивать размер каждого конкретного топика. Когда топик достигает предельного размера, происходит вытеснение старых данных</p>
<p>Каждый процессор может писать в один или несколько топиков, принадлежащих ему, а также читать из любых других топиков.</p>
<p>Было реализовано несколько режимов работы процессоров: с помощью асинхронных задач и библиотеки <em>asyncio</em>, а также в режиме многопроцессорности, где каждый процессор выполняется на отдельном процессе операционной системы. Выбор того или иного режима должен быть обусловлен ресурсами сервера, на котором происходит синтез управления, количества процессоров, которые должны выполняться одновременно, времени исполнения одного шага вычислений процессора, а также допустимыми задержками. Также имеет значение объем данных, который пишется и читается процессорами, поскольку в случае многопроцессорного режима происходит передача информации между различными процессами, занимающая больше времени чем передача информации внутри одного процесса.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
